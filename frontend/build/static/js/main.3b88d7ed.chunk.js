(this["webpackJsonpcode-hero"]=this["webpackJsonpcode-hero"]||[]).push([[0],{65:function(e,t,n){"use strict";n.r(t);var r,o=n(24);!function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Success=2]="Success",e[e.Error=3]="Error"}(r||(r={}));var i=n(42),c=n.n(i),a=n(45),u=n(20),s=n(21),h=n(46),d=n(51),l=n(52),f=n(43),v=function(){function e(t,n){Object(u.a)(this,e),this.http=void 0,this.baseUrl=void 0,this.jsonParseReviver=void 0,this.http=n||window,this.baseUrl=void 0!==t&&null!==t?t:""}return Object(s.a)(e,[{key:"country",value:function(){var e=this,t=this.baseUrl+"/api/v1/country";t=t.replace(/[?&]$/,"");return this.http.fetch(t,{method:"GET",headers:{Accept:"text/plain"}}).then((function(t){return e.processCountry(t)}))}},{key:"processCountry",value:function(e){var t=this,n=e.status,r={};return e.headers&&e.headers.forEach&&e.headers.forEach((function(e,t){return r[t]=e})),200===n?e.text().then((function(e){var n=null,r=""===e?null:JSON.parse(e,t.jsonParseReviver);if(Array.isArray(r)){n=[];var o,i=Object(f.a)(r);try{for(i.s();!(o=i.n()).done;){var c=o.value;n.push(p.fromJS(c))}}catch(a){i.e(a)}finally{i.f()}}else n=null;return n})):200!==n&&204!==n?e.text().then((function(e){return y("An unexpected server error occurred.",n,e,r)})):Promise.resolve(null)}},{key:"test",value:function(){var e=this,t=this.baseUrl+"/api/v1/test";t=t.replace(/[?&]$/,"");return this.http.fetch(t,{method:"GET",headers:{}}).then((function(t){return e.processTest(t)}))}},{key:"processTest",value:function(e){var t=e.status,n={};return e.headers&&e.headers.forEach&&e.headers.forEach((function(e,t){return n[t]=e})),200===t?e.text().then((function(e){})):200!==t&&204!==t?e.text().then((function(e){return y("An unexpected server error occurred.",t,e,n)})):Promise.resolve(null)}},{key:"video",value:function(e){var t=this,n=this.baseUrl+"/api/v1/country/{countryId}/video";if(void 0===e||null===e)throw new Error("The parameter 'countryId' must be defined.");n=(n=n.replace("{countryId}",encodeURIComponent(""+e))).replace(/[?&]$/,"");return this.http.fetch(n,{method:"GET",headers:{Accept:"text/plain"}}).then((function(e){return t.processVideo(e)}))}},{key:"processVideo",value:function(e){var t=this,n=e.status,r={};return e.headers&&e.headers.forEach&&e.headers.forEach((function(e,t){return r[t]=e})),200===n?e.text().then((function(e){var n=null,r=""===e?null:JSON.parse(e,t.jsonParseReviver);if(Array.isArray(r)){n=[];var o,i=Object(f.a)(r);try{for(i.s();!(o=i.n()).done;){var c=o.value;n.push(b.fromJS(c))}}catch(a){i.e(a)}finally{i.f()}}else n=null;return n})):200!==n&&204!==n?e.text().then((function(e){return y("An unexpected server error occurred.",n,e,r)})):Promise.resolve(null)}}]),e}(),p=function(){function e(t){if(Object(u.a)(this,e),this.id=void 0,this.name=void 0,this.regionCode=void 0,t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}return Object(s.a)(e,[{key:"init",value:function(e){e&&(this.id=e.id,this.name=e.name,this.regionCode=e.regionCode)}},{key:"toJSON",value:function(e){return(e="object"===typeof e?e:{}).id=this.id,e.name=this.name,e.regionCode=this.regionCode,e}}],[{key:"fromJS",value:function(t){t="object"===typeof t?t:{};var n=new e;return n.init(t),n}}]),e}(),b=function(){function e(t){if(Object(u.a)(this,e),this.name=void 0,this.channel=void 0,this.views=void 0,this.thumbnail=void 0,t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}return Object(s.a)(e,[{key:"init",value:function(e){e&&(this.name=e.name,this.channel=e.channel,this.views=e.views,this.thumbnail=e.thumbnail)}},{key:"toJSON",value:function(e){return(e="object"===typeof e?e:{}).name=this.name,e.channel=this.channel,e.views=this.views,e.thumbnail=this.thumbnail,e}}],[{key:"fromJS",value:function(t){t="object"===typeof t?t:{};var n=new e;return n.init(t),n}}]),e}(),j=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e,r,o,i,c){var a;return Object(u.a)(this,n),(a=t.call(this)).message=void 0,a.status=void 0,a.response=void 0,a.headers=void 0,a.result=void 0,a.isApiException=!0,a.message=e,a.status=r,a.response=o,a.headers=i,a.result=c,a}return Object(s.a)(n,null,[{key:"isApiException",value:function(e){return!0===e.isApiException}}]),n}(Object(l.a)(Error));function y(e,t,n,r,o){throw null!==o&&void 0!==o?o:new j(e,t,n,r,null)}var m=new(function(){function e(){Object(u.a)(this,e),this.codeHeroApiClient=void 0,this.codeHeroApiClient=new v("http://localhost:5001")}return Object(s.a)(e,[{key:"getCountries",value:function(){return this.codeHeroApiClient.country().then((function(e){return e.map((function(e){return{id:e.id,name:e.name,regionCode:e.regionCode}}))}))}}]),e}()),O=Object(o.b)("country/fetchCountries",Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.getCountries());case 1:case"end":return e.stop()}}),e)})))),C={countries:[],selectedCountry:0,operationState:r.None},x=Object(o.c)({name:"country",initialState:C,reducers:{selectCountry:function(e,t){e.selectedCountry=t.payload}},extraReducers:function(e){e.addCase(O.pending,(function(e){e.operationState=r.Loading})).addCase(O.fulfilled,(function(e,t){e.countries=t.payload,e.operationState=r.Success})).addCase(O.rejected,(function(e){e.operationState=r.Error}))}}),w=x.actions.selectCountry,S=x.reducer,E=Object(o.a)({reducer:{country:S}}),g=n(0),k=n.n(g),A=n(7),J=n.n(A),N=n(35),P=n(98),T=n(92),U=n(96),I=n(97),R=n(4),G=n(10);var H=Object(R.a)((function(){return Object(P.a)({root:{width:"100%"}})}))((function(e){var t=e.countries,n=e.selectedCountry,r=e.onCountrySelect,o=e.classes.root;return Object(G.jsx)(T.a,{variant:"outlined",className:o,children:Object(G.jsx)(U.a,{value:n,onChange:function(e){r(e.target.value)},children:t.map((function(e){return Object(G.jsx)(I.a,{value:e.id,children:e.name},e.id)}))})})}));function L(){var e=Object(N.c)((function(e){return e})),t=e.countries,n=e.selectedCountry,r=e.operationState,o=Object(N.b)();return Object(g.useEffect)((function(){o(O())}),[]),Object(G.jsx)(H,{countries:t,selectedCountry:n,onCountrySelect:function(e){return o(w(e))},operationState:r})}function $(){return Object(G.jsx)(L,{})}var V=function(){return Object(G.jsx)("div",{children:Object(G.jsx)($,{})})};J.a.render(Object(G.jsx)(k.a.StrictMode,{children:Object(G.jsx)(N.a,{store:E,children:Object(G.jsx)(V,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.3b88d7ed.chunk.js.map